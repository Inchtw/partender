{"version":3,"file":"main.js","mappings":"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","sources":["webpack://partender-website/webpack/runtime/load script","webpack://partender-website/webpack/bootstrap","webpack://partender-website/webpack/runtime/define property getters","webpack://partender-website/webpack/runtime/ensure chunk","webpack://partender-website/webpack/runtime/get javascript chunk filename","webpack://partender-website/webpack/runtime/get mini-css chunk filename","webpack://partender-website/webpack/runtime/global","webpack://partender-website/webpack/runtime/hasOwnProperty shorthand","webpack://partender-website/webpack/runtime/publicPath","webpack://partender-website/webpack/runtime/jsonp chunk loading","webpack://partender-website/./src/scripts/services/api.ts","webpack://partender-website/./src/scripts/services/analytics.ts","webpack://partender-website/./src/scripts/services/firebase.ts","webpack://partender-website/./src/scripts/components/auth.ts","webpack://partender-website/./src/scripts/services/imageOptimizer.ts","webpack://partender-website/./src/scripts/imageLoader.ts","webpack://partender-website/./src/scripts/main.ts"],"sourcesContent":["var inProgress = {};\nvar dataWebpackPrefix = \"partender-website:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".main.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpartender_website\"] = self[\"webpackChunkpartender_website\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import { ApiResponse, ContactFormData, GalleryItem, ServiceItem, TestimonialItem } from '../types';\n\n// API 基礎 URL\nconst API_BASE_URL = '/api';\n\n// 通用 fetch 函數\nasync function fetchApi<T>(endpoint: string, options: RequestInit = {}): Promise<ApiResponse<T>> {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      ...options,\n    });\n\n    if (!response.ok) {\n      throw new Error(`API 請求失敗: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data as ApiResponse<T>;\n  } catch (error) {\n    console.error('API 請求錯誤:', error);\n    return {\n      success: false,\n      data: null as unknown as T,\n      message: error instanceof Error ? error.message : '未知錯誤',\n    };\n  }\n}\n\n// 獲取服務項目\nexport async function getServices(): Promise<ServiceItem[]> {\n  const response = await fetchApi<ServiceItem[]>('/services');\n  return response.success ? response.data : [];\n}\n\n// 獲取畫廊項目\nexport async function getGalleryItems(): Promise<GalleryItem[]> {\n  const response = await fetchApi<GalleryItem[]>('/gallery');\n  return response.success ? response.data : [];\n}\n\n// 獲取評價\nexport async function getTestimonials(): Promise<TestimonialItem[]> {\n  const response = await fetchApi<TestimonialItem[]>('/testimonials');\n  return response.success ? response.data : [];\n}\n\n// 提交聯絡表單\nexport async function submitContactForm(formData: ContactFormData): Promise<boolean> {\n  const response = await fetchApi<{ success: boolean }>('/contact', {\n    method: 'POST',\n    body: JSON.stringify(formData),\n  });\n  \n  return response.success;\n}\n\n// 獲取網站配置\nexport async function getSiteConfig() {\n  const response = await fetchApi<any>('/config');\n  return response.success ? response.data : null;\n}\n\n// 模擬數據 (開發階段使用)\nexport const mockServices: ServiceItem[] = [\n  {\n    id: '1',\n    title: '私人派對調酒',\n    description: '為您的生日、週年慶或家庭聚會提供客製化調酒服務，打造獨特的派對體驗。',\n    icon: 'cocktail',\n  },\n  {\n    id: '2',\n    title: '企業活動調酒',\n    description: '為企業年會、產品發表會或客戶答謝會提供專業調酒服務，提升活動品質與格調。',\n    icon: 'briefcase',\n  },\n  {\n    id: '3',\n    title: '調酒工作坊',\n    description: '提供專業調酒教學，讓您和朋友一起學習調酒技巧，體驗調酒的樂趣與藝術。',\n    icon: 'graduation-cap',\n  },\n];\n\nexport const mockGalleryItems: GalleryItem[] = [\n  {\n    id: '1',\n    title: '威士忌煙燻',\n    description: '傳統經典，煙燻風味',\n    imageUrl: '/assets/images/gallery/whiskey.jpg',\n    category: '經典調酒',\n  },\n  {\n    id: '2',\n    title: '夏日莓果',\n    description: '清爽果香，完美夏日',\n    imageUrl: '/assets/images/gallery/summer.jpg',\n    category: '創意調酒',\n  },\n  {\n    id: '3',\n    title: '熱帶風情',\n    description: '朗姆為基底，異國情調',\n    imageUrl: '/assets/images/gallery/tropical.jpg',\n    category: '主題派對',\n  },\n  {\n    id: '4',\n    title: '企業派對',\n    description: '量身定制，品牌專屬',\n    imageUrl: '/assets/images/gallery/corporate.jpg',\n    category: '企業活動',\n  },\n  {\n    id: '5',\n    title: '分子雲霧',\n    description: '科技與藝術的結合',\n    imageUrl: '/assets/images/gallery/molecular.jpg',\n    category: '分子調酒',\n  },\n  {\n    id: '6',\n    title: '無酒精特調',\n    description: '同樣精彩，無需酒精',\n    imageUrl: '/assets/images/gallery/non-alcoholic.jpg',\n    category: '無酒精調飲',\n  },\n]; ","// Google Analytics 服務\n\n// 替換為您的 Google Analytics 測量 ID\nconst GA_MEASUREMENT_ID = 'G-XXXXXXXXXX';\n\n// 初始化 Google Analytics\nexport function initGoogleAnalytics(): void {\n  // 添加 Google Analytics 腳本\n  const script = document.createElement('script');\n  script.async = true;\n  script.src = `https://www.googletagmanager.com/gtag/js?id=${GA_MEASUREMENT_ID}`;\n  document.head.appendChild(script);\n\n  // 初始化 gtag\n  window.dataLayer = window.dataLayer || [];\n  function gtag(...args: any[]) {\n    window.dataLayer.push(args);\n  }\n  gtag('js', new Date());\n  gtag('config', GA_MEASUREMENT_ID);\n\n  // 將 gtag 函數添加到 window 對象\n  window.gtag = gtag;\n}\n\n// 追蹤頁面訪問\nexport function trackPageView(pagePath: string, pageTitle: string): void {\n  if (window.gtag) {\n    window.gtag('event', 'page_view', {\n      page_path: pagePath,\n      page_title: pageTitle,\n    });\n  }\n}\n\n// 追蹤事件\nexport function trackEvent(\n  eventCategory: string,\n  eventAction: string,\n  eventLabel?: string,\n  eventValue?: number\n): void {\n  if (window.gtag) {\n    window.gtag('event', eventAction, {\n      event_category: eventCategory,\n      event_label: eventLabel,\n      value: eventValue,\n    });\n  }\n}\n\n// 追蹤表單提交\nexport function trackFormSubmission(formName: string): void {\n  trackEvent('form', 'submit', formName);\n}\n\n// 追蹤畫廊項目點擊\nexport function trackGalleryItemClick(itemName: string): void {\n  trackEvent('gallery', 'click', itemName);\n}\n\n// 追蹤服務項目點擊\nexport function trackServiceItemClick(serviceName: string): void {\n  trackEvent('service', 'click', serviceName);\n}\n\n// 追蹤外部鏈接點擊\nexport function trackExternalLinkClick(linkUrl: string, linkText: string): void {\n  trackEvent('external_link', 'click', `${linkText} (${linkUrl})`);\n}\n\n// 追蹤滾動深度\nexport function setupScrollDepthTracking(): void {\n  let scrollDepthMarkers = [25, 50, 75, 100];\n  let scrollDepthTracked: number[] = [];\n\n  window.addEventListener('scroll', () => {\n    const scrollPercentage = Math.floor(\n      (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100\n    );\n\n    scrollDepthMarkers.forEach((marker) => {\n      if (scrollPercentage >= marker && !scrollDepthTracked.includes(marker)) {\n        trackEvent('scroll_depth', 'scroll', `${marker}%`);\n        scrollDepthTracked.push(marker);\n      }\n    });\n  });\n}\n\n// 擴展 Window 接口以包含 gtag\ndeclare global {\n  interface Window {\n    dataLayer: any[];\n    gtag: (...args: any[]) => void;\n  }\n} ","// Firebase 服務\n\n// Firebase 配置\n// 請替換為您的 Firebase 項目配置\nconst firebaseConfig = {\n  apiKey: \"YOUR_API_KEY\",\n  authDomain: \"your-project-id.firebaseapp.com\",\n  projectId: \"your-project-id\",\n  storageBucket: \"your-project-id.appspot.com\",\n  messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n  appId: \"YOUR_APP_ID\",\n  measurementId: \"YOUR_MEASUREMENT_ID\"\n};\n\n// 初始化 Firebase\nexport async function initFirebase(): Promise<any> {\n  try {\n    // 動態導入 Firebase 模塊\n    const { initializeApp } = await import('firebase/app');\n    const { getAnalytics } = await import('firebase/analytics');\n    \n    // 初始化 Firebase\n    const app = initializeApp(firebaseConfig);\n    // 初始化 Analytics，但不使用返回值\n    getAnalytics(app);\n    \n    console.log('Firebase 初始化成功');\n    \n    return app;\n  } catch (error) {\n    console.error('Firebase 初始化失敗:', error);\n    throw error;\n  }\n}\n\n// 用戶認證\nexport async function registerUser(email: string, password: string): Promise<any> {\n  try {\n    const { getAuth, createUserWithEmailAndPassword } = await import('firebase/auth');\n    const auth = getAuth();\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    return userCredential.user;\n  } catch (error) {\n    console.error('註冊失敗:', error);\n    throw error;\n  }\n}\n\nexport async function loginUser(email: string, password: string): Promise<any> {\n  try {\n    const { getAuth, signInWithEmailAndPassword } = await import('firebase/auth');\n    const auth = getAuth();\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    return userCredential.user;\n  } catch (error) {\n    console.error('登入失敗:', error);\n    throw error;\n  }\n}\n\nexport async function logoutUser(): Promise<void> {\n  try {\n    const { getAuth, signOut } = await import('firebase/auth');\n    const auth = getAuth();\n    await signOut(auth);\n  } catch (error) {\n    console.error('登出失敗:', error);\n    throw error;\n  }\n}\n\nexport async function getCurrentUser(): Promise<any> {\n  const { getAuth } = await import('firebase/auth');\n  const auth = getAuth();\n  return new Promise((resolve) => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      unsubscribe();\n      resolve(user);\n    });\n  });\n}\n\n// Firestore 數據庫操作\nexport async function saveContactForm(formData: any): Promise<string> {\n  try {\n    const { getFirestore, collection, addDoc } = await import('firebase/firestore');\n    const db = getFirestore();\n    const docRef = await addDoc(collection(db, 'contactForms'), {\n      ...formData,\n      createdAt: new Date()\n    });\n    return docRef.id;\n  } catch (error) {\n    console.error('保存表單失敗:', error);\n    throw error;\n  }\n}\n\nexport async function saveBooking(bookingData: any): Promise<string> {\n  try {\n    const { getFirestore, collection, addDoc } = await import('firebase/firestore');\n    const db = getFirestore();\n    const docRef = await addDoc(collection(db, 'bookings'), {\n      ...bookingData,\n      createdAt: new Date()\n    });\n    return docRef.id;\n  } catch (error) {\n    console.error('保存預約失敗:', error);\n    throw error;\n  }\n}\n\nexport async function getUserBookings(userId: string): Promise<any[]> {\n  try {\n    const { getFirestore, collection, query, where, getDocs } = await import('firebase/firestore');\n    const db = getFirestore();\n    const q = query(collection(db, 'bookings'), where('userId', '==', userId));\n    const querySnapshot = await getDocs(q);\n    \n    const bookings: any[] = [];\n    querySnapshot.forEach((doc) => {\n      bookings.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    \n    return bookings;\n  } catch (error) {\n    console.error('獲取用戶預約失敗:', error);\n    throw error;\n  }\n}\n\n// Firebase Storage 操作\nexport async function uploadImage(file: File, path: string): Promise<string> {\n  try {\n    const { getStorage, ref, uploadBytes, getDownloadURL } = await import('firebase/storage');\n    const storage = getStorage();\n    const storageRef = ref(storage, path);\n    \n    await uploadBytes(storageRef, file);\n    const downloadURL = await getDownloadURL(storageRef);\n    \n    return downloadURL;\n  } catch (error) {\n    console.error('上傳圖片失敗:', error);\n    throw error;\n  }\n} ","// 會員系統組件\n\nimport { loginUser, registerUser, logoutUser, getCurrentUser, getUserBookings } from '../services/firebase';\nimport { trackEvent } from '../services/analytics';\n\n// DOM 元素\nconst loginBtn = document.getElementById('loginBtn') as HTMLButtonElement;\nconst loginModal = document.getElementById('loginModal') as HTMLDivElement;\nconst loginForm = document.getElementById('loginForm') as HTMLFormElement;\nconst registerForm = document.getElementById('registerForm') as HTMLFormElement;\nconst tabBtns = document.querySelectorAll('.tab-btn');\nconst loginTab = document.getElementById('loginTab') as HTMLDivElement;\nconst registerTab = document.getElementById('registerTab') as HTMLDivElement;\nconst modalClose = document.querySelector('.modal-close') as HTMLButtonElement;\nconst memberSection = document.getElementById('member') as HTMLElement;\nconst memberName = document.getElementById('memberName') as HTMLElement;\nconst bookingsList = document.getElementById('bookingsList') as HTMLElement;\nconst bookingCount = document.getElementById('bookingCount') as HTMLElement;\nconst pointsCount = document.getElementById('pointsCount') as HTMLElement;\nconst logoutBtn = document.getElementById('logoutBtn') as HTMLButtonElement;\n\n// 初始化會員系統\nexport async function initAuth(): Promise<void> {\n  setupEventListeners();\n  await checkAuthState();\n}\n\n// 設置事件監聽器\nfunction setupEventListeners(): void {\n  // 登入按鈕點擊\n  loginBtn?.addEventListener('click', () => {\n    loginModal.style.display = 'flex';\n    trackEvent('auth', 'open_login_modal');\n  });\n  \n  // 關閉模態框\n  modalClose?.addEventListener('click', () => {\n    loginModal.style.display = 'none';\n    trackEvent('auth', 'close_login_modal');\n  });\n  \n  // 切換標籤\n  tabBtns.forEach(btn => {\n    btn.addEventListener('click', () => {\n      const tab = btn.getAttribute('data-tab');\n      \n      // 更新活動標籤\n      tabBtns.forEach(b => b.classList.remove('active'));\n      btn.classList.add('active');\n      \n      // 顯示相應的標籤內容\n      if (tab === 'login') {\n        loginTab.style.display = 'block';\n        registerTab.style.display = 'none';\n        trackEvent('auth', 'switch_to_login_tab');\n      } else if (tab === 'register') {\n        loginTab.style.display = 'none';\n        registerTab.style.display = 'block';\n        trackEvent('auth', 'switch_to_register_tab');\n      }\n    });\n  });\n  \n  // 登入表單提交\n  loginForm?.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    \n    const emailInput = document.getElementById('loginEmail') as HTMLInputElement;\n    const passwordInput = document.getElementById('loginPassword') as HTMLInputElement;\n    \n    try {\n      await loginUser(emailInput.value, passwordInput.value);\n      loginModal.style.display = 'none';\n      await checkAuthState();\n      trackEvent('auth', 'login_success');\n    } catch (error) {\n      console.error('登入失敗:', error);\n      alert('登入失敗，請檢查您的電子郵件和密碼。');\n      trackEvent('auth', 'login_error');\n    }\n  });\n  \n  // 註冊表單提交\n  registerForm?.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    \n    // 获取表单输入\n    const emailInput = document.getElementById('registerEmail') as HTMLInputElement;\n    const passwordInput = document.getElementById('registerPassword') as HTMLInputElement;\n    const confirmPasswordInput = document.getElementById('registerConfirmPassword') as HTMLInputElement;\n    \n    // 檢查密碼是否匹配\n    if (passwordInput.value !== confirmPasswordInput.value) {\n      alert('密碼不匹配，請重新輸入。');\n      return;\n    }\n    \n    try {\n      await registerUser(emailInput.value, passwordInput.value);\n      loginModal.style.display = 'none';\n      await checkAuthState();\n      trackEvent('auth', 'register_success');\n    } catch (error) {\n      console.error('註冊失敗:', error);\n      alert('註冊失敗，請稍後再試。');\n      trackEvent('auth', 'register_error');\n    }\n  });\n  \n  // 登出按鈕點擊\n  logoutBtn?.addEventListener('click', async () => {\n    try {\n      await logoutUser();\n      memberSection.style.display = 'none';\n      loginBtn.style.display = 'block';\n      trackEvent('auth', 'logout');\n    } catch (error) {\n      console.error('登出失敗:', error);\n    }\n  });\n}\n\n// 檢查認證狀態\nasync function checkAuthState(): Promise<void> {\n  try {\n    const user = await getCurrentUser();\n    \n    if (user) {\n      // 用戶已登入\n      loginBtn.style.display = 'none';\n      memberSection.style.display = 'block';\n      memberName.textContent = user.displayName || user.email?.split('@')[0] || '會員';\n      \n      // 獲取用戶預約\n      await loadUserBookings(user.uid);\n      \n      // 設置會員點數（示例）\n      pointsCount.textContent = '150';\n      \n      trackEvent('auth', 'user_authenticated');\n    } else {\n      // 用戶未登入\n      loginBtn.style.display = 'block';\n      memberSection.style.display = 'none';\n    }\n  } catch (error) {\n    console.error('檢查認證狀態失敗:', error);\n  }\n}\n\n// 加載用戶預約\nasync function loadUserBookings(userId: string): Promise<void> {\n  try {\n    const bookings = await getUserBookings(userId);\n    \n    if (bookings.length === 0) {\n      bookingsList.innerHTML = '<p class=\"no-bookings\">您目前沒有預約記錄。</p>';\n      bookingCount.textContent = '0';\n      return;\n    }\n    \n    bookingCount.textContent = bookings.length.toString();\n    \n    // 渲染預約列表\n    bookingsList.innerHTML = bookings.map(booking => `\n      <div class=\"booking-item\">\n        <div class=\"booking-info\">\n          <h4 class=\"booking-title\">${booking.serviceType} - ${booking.guestCount}人</h4>\n          <p class=\"booking-date\">${formatDate(booking.date)}</p>\n        </div>\n        <span class=\"booking-status status-${booking.status.toLowerCase()}\">${getStatusText(booking.status)}</span>\n      </div>\n    `).join('');\n    \n  } catch (error) {\n    console.error('加載用戶預約失敗:', error);\n    bookingsList.innerHTML = '<p class=\"no-bookings\">無法加載預約記錄。</p>';\n  }\n}\n\n// 格式化日期\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString('zh-TW', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n// 獲取狀態文本\nfunction getStatusText(status: string): string {\n  switch (status.toLowerCase()) {\n    case 'confirmed':\n      return '已確認';\n    case 'pending':\n      return '待確認';\n    case 'cancelled':\n      return '已取消';\n    default:\n      return status;\n  }\n} ","// 圖片優化服務\n\n// Cloudinary 配置\n// 請替換為您的 Cloudinary 雲名稱\nconst CLOUDINARY_CLOUD_NAME = 'df4ru2dy3'; // 更改為您的 Cloudinary 雲名稱\nconst CLOUDINARY_BASE_URL = `https://res.cloudinary.com/${CLOUDINARY_CLOUD_NAME}/image/upload`;\n\n// 定義 logo 圖片 URL - 添加 f_auto,q_auto 參數以優化加載\nconst LOGO_FULL_WHITE_URL = 'https://res.cloudinary.com/df4ru2dy3/image/upload/f_auto,q_auto/v1741523209/logo-white_hw3odm.png';\nconst LOGO_WORD_WHITE_URL = 'https://res.cloudinary.com/df4ru2dy3/image/upload/f_auto,q_auto/v1741523209/logo-word-white_evqdgl.png';\n\n// 圖片格式\ntype ImageFormat = 'auto' | 'webp' | 'jpg' | 'png';\n\n// 圖片質量\ntype ImageQuality = 'auto' | number;\n\n// 圖片優化選項\ninterface ImageOptimizeOptions {\n  width?: number;\n  height?: number;\n  format?: ImageFormat;\n  quality?: ImageQuality;\n  crop?: 'fill' | 'scale' | 'fit';\n  dpr?: number;\n}\n\n/**\n * 優化圖片 URL\n * @param originalUrl 原始圖片 URL\n * @param options 優化選項\n * @returns 優化後的圖片 URL\n */\nexport function optimizeImage(originalUrl: string, options: ImageOptimizeOptions = {}): string {\n  // 如果是完整的 Cloudinary URL，直接返回\n  if (originalUrl.includes('res.cloudinary.com/df4ru2dy3/image/upload')) {\n    return originalUrl;\n  }\n  \n  // 如果不是 Cloudinary URL，則返回原始 URL\n  if (!originalUrl.includes('cloudinary') && !originalUrl.startsWith('assets/')) {\n    return originalUrl;\n  }\n  \n  // 如果是本地資源，則使用 Cloudinary 上傳的資源\n  if (originalUrl.startsWith('assets/')) {\n    const assetPath = originalUrl.replace('assets/', '');\n    originalUrl = `${CLOUDINARY_BASE_URL}/v1/partender/${assetPath}`;\n  }\n  \n  // 構建轉換參數\n  const transformations = [];\n  \n  // 設置寬度和高度\n  if (options.width) {\n    transformations.push(`w_${options.width}`);\n  }\n  \n  if (options.height) {\n    transformations.push(`h_${options.height}`);\n  }\n  \n  // 設置裁剪模式\n  if (options.crop) {\n    transformations.push(`c_${options.crop}`);\n  }\n  \n  // 設置格式\n  if (options.format) {\n    transformations.push(`f_${options.format}`);\n  } else {\n    transformations.push('f_auto');\n  }\n  \n  // 設置質量\n  if (options.quality) {\n    transformations.push(`q_${options.quality}`);\n  } else {\n    transformations.push('q_auto');\n  }\n  \n  // 設置設備像素比\n  if (options.dpr) {\n    transformations.push(`dpr_${options.dpr}`);\n  } else {\n    transformations.push('dpr_auto');\n  }\n  \n  // 添加優化參數\n  transformations.push('fl_progressive');\n  \n  // 構建最終 URL\n  const transformationString = transformations.join(',');\n  \n  // 如果已經是 Cloudinary URL，則替換轉換部分\n  if (originalUrl.includes('cloudinary')) {\n    // 提取 URL 部分\n    const urlParts = originalUrl.split('/upload/');\n    if (urlParts.length === 2) {\n      // 檢查是否已有 v1/ 路徑\n      if (urlParts[1].startsWith('v1/')) {\n        return `${urlParts[0]}/upload/${transformationString}/${urlParts[1]}`;\n      } else {\n        return `${urlParts[0]}/upload/${transformationString}/v1/partender/${urlParts[1]}`;\n      }\n    }\n  }\n  \n  return originalUrl;\n}\n\n/**\n * 獲取 logo URL\n * 注意：此函數目前未在代碼中使用，但保留以供將來可能的使用\n * @param type logo 類型 ('full', 'word' 或 'icon')\n * @param options 優化選項\n * @returns logo URL\n */\nexport function getLogoUrl(type: 'full' | 'word' | 'icon' = 'full', options: ImageOptimizeOptions = {}): string {\n  let logoUrl;\n  \n  switch (type) {\n    case 'full':\n      logoUrl = LOGO_FULL_WHITE_URL;\n      break;\n    case 'word':\n      logoUrl = LOGO_WORD_WHITE_URL;\n      break;\n    case 'icon':\n      // 如果有 icon 版本的 logo，可以在這裡添加\n      logoUrl = LOGO_FULL_WHITE_URL; // 暫時使用完整 logo\n      break;\n    default:\n      logoUrl = LOGO_FULL_WHITE_URL;\n  }\n  \n  return optimizeImage(logoUrl, options);\n}\n\n/**\n * 為不同設備生成響應式圖片 srcset\n * @param originalUrl 原始圖片 URL\n * @param widths 寬度數組\n * @param options 其他優化選項\n * @returns srcset 字符串\n */\nexport function generateSrcset(\n  originalUrl: string,\n  widths: number[] = [320, 640, 960, 1280, 1920],\n  options: Omit<ImageOptimizeOptions, 'width'> = {}\n): string {\n  return widths\n    .map(width => {\n      const optimizedUrl = optimizeImage(originalUrl, { ...options, width });\n      return `${optimizedUrl} ${width}w`;\n    })\n    .join(', ');\n}\n\n/**\n * 生成響應式圖片 HTML\n * @param originalUrl 原始圖片 URL\n * @param alt 替代文本\n * @param className CSS 類名\n * @param options 優化選項\n * @returns HTML 字符串\n */\nexport function responsiveImage(\n  originalUrl: string,\n  alt: string,\n  className: string = '',\n  options: ImageOptimizeOptions = {}\n): string {\n  const srcset = generateSrcset(originalUrl);\n  const defaultSrc = optimizeImage(originalUrl, { width: 800, ...options });\n  \n  return `\n    <img \n      src=\"${defaultSrc}\" \n      srcset=\"${srcset}\" \n      sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\" \n      alt=\"${alt}\" \n      loading=\"lazy\" \n      class=\"${className}\"\n    >\n  `;\n}\n\n/**\n * 預加載關鍵圖片\n * @param urls 圖片 URL 數組\n */\nexport function preloadCriticalImages(urls: string[]): void {\n  urls.forEach(url => {\n    const optimizedUrl = optimizeImage(url, { width: 1200, quality: 60 });\n    const link = document.createElement('link');\n    link.rel = 'preload';\n    link.as = 'image';\n    link.href = optimizedUrl;\n    document.head.appendChild(link);\n  });\n} ","/**\n * 圖片加載工具\n * 用於解決 Cloudinary 圖片在 localhost 環境下無法顯示的問題\n */\n\n// 檢查是否為本地環境\nconst isLocalhost: boolean = window.location.hostname === 'localhost' || \n                    window.location.hostname === '127.0.0.1' ||\n                    window.location.hostname.includes('192.168.');\n\nconsole.log('環境檢測:', { isLocalhost, hostname: window.location.hostname });\n\n/**\n * 加載圖片並處理錯誤\n * @param {HTMLImageElement} imgElement - 圖片元素\n * @param {string} cloudinaryUrl - Cloudinary URL\n * @param {string} localFallbackPath - 本地備份路徑\n */\nfunction loadImage(imgElement: HTMLImageElement, cloudinaryUrl: string, localFallbackPath?: string): void {\n  console.log('開始加載圖片:', { cloudinaryUrl, localFallbackPath });\n  \n  // 如果是本地環境，直接使用本地圖片\n  if (isLocalhost && localFallbackPath) {\n    console.log('本地環境，優先使用本地圖片:', localFallbackPath);\n    imgElement.src = localFallbackPath;\n    \n    // 添加錯誤處理，如果本地圖片加載失敗，嘗試使用 Cloudinary\n    imgElement.onerror = function(): void {\n      console.error('本地圖片加載失敗，嘗試使用 Cloudinary:', cloudinaryUrl);\n      \n      // 確保 Cloudinary URL 包含 no_referrer 參數\n      let optimizedUrl = cloudinaryUrl;\n      if (optimizedUrl.includes('/upload/') && !optimizedUrl.includes('fl_no_referrer')) {\n        optimizedUrl = optimizedUrl.replace('/upload/', '/upload/fl_no_referrer/');\n      }\n      \n      imgElement.src = optimizedUrl;\n      \n      // 如果 Cloudinary 也失敗，顯示錯誤信息\n      imgElement.onerror = function(): void {\n        console.error('Cloudinary 圖片也加載失敗:', optimizedUrl);\n        imgElement.alt = '圖片加載失敗';\n        imgElement.style.border = '1px dashed red';\n        imgElement.style.padding = '10px';\n        imgElement.style.width = '100px';\n        imgElement.style.height = '50px';\n      };\n    };\n  } else {\n    // 非本地環境或沒有本地備份，使用 Cloudinary\n    // 確保 URL 包含 no_referrer 參數（如果是本地環境）\n    let optimizedUrl = cloudinaryUrl;\n    if (isLocalhost && optimizedUrl.includes('/upload/') && !optimizedUrl.includes('fl_no_referrer')) {\n      optimizedUrl = optimizedUrl.replace('/upload/', '/upload/fl_no_referrer/');\n    }\n    \n    console.log('使用 Cloudinary 圖片:', optimizedUrl);\n    imgElement.src = optimizedUrl;\n    \n    // 添加錯誤處理\n    imgElement.onerror = function(): void {\n      console.error('Cloudinary 圖片加載失敗:', optimizedUrl);\n      \n      // 嘗試使用本地備份\n      if (localFallbackPath) {\n        console.log('嘗試使用本地備份圖片:', localFallbackPath);\n        imgElement.src = localFallbackPath;\n        \n        // 如果本地備份也失敗\n        imgElement.onerror = function(): void {\n          console.error('本地備份圖片也加載失敗:', localFallbackPath);\n          imgElement.alt = '圖片加載失敗';\n          imgElement.style.border = '1px dashed red';\n          imgElement.style.padding = '10px';\n          imgElement.style.width = '100px';\n          imgElement.style.height = '50px';\n        };\n      } else {\n        imgElement.alt = '圖片加載失敗';\n        imgElement.style.border = '1px dashed red';\n        imgElement.style.padding = '10px';\n        imgElement.style.width = '100px';\n        imgElement.style.height = '50px';\n      }\n    };\n  }\n}\n\n/**\n * 初始化所有帶有 data-cloudinary-url 屬性的圖片\n */\nfunction initializeImages(): void {\n  console.log('開始初始化圖片...');\n  const images: NodeListOf<HTMLImageElement> = document.querySelectorAll('img[data-cloudinary-url]');\n  console.log(`找到 ${images.length} 個需要初始化的圖片`);\n  \n  images.forEach((img: HTMLImageElement, index: number) => {\n    const cloudinaryUrl: string | null = img.getAttribute('data-cloudinary-url');\n    const localFallback: string | null = img.getAttribute('data-local-fallback');\n    \n    console.log(`圖片 ${index + 1}:`, { \n      element: img, \n      cloudinaryUrl, \n      localFallback \n    });\n    \n    if (cloudinaryUrl) {\n      loadImage(img, cloudinaryUrl, localFallback || undefined);\n    }\n  });\n}\n\n// 當 DOM 加載完成後初始化圖片\ndocument.addEventListener('DOMContentLoaded', initializeImages);\n\n// 導出函數供其他模塊使用\nexport { loadImage, initializeImages }; ","import { mockGalleryItems, mockServices } from './services/api';\nimport { GalleryItem, ServiceItem } from './types';\nimport { initGoogleAnalytics, trackEvent, trackFormSubmission, trackGalleryItemClick, setupScrollDepthTracking } from './services/analytics';\nimport { initFirebase, saveContactForm } from './services/firebase';\nimport { initAuth } from './components/auth';\nimport { optimizeImage, preloadCriticalImages } from './services/imageOptimizer';\nimport { initializeImages, loadImage } from './imageLoader';\n\n// DOM 元素\nconst backToTopBtn = document.getElementById('backToTop') as HTMLElement;\nconst navbar = document.getElementById('navbar') as HTMLElement;\nconst mobileMenuBtn = document.getElementById('mobileMenuBtn') as HTMLElement;\nconst navLinks = document.getElementById('navLinks') as HTMLElement;\nconst galleryContainer = document.getElementById('galleryContainer') as HTMLElement;\nconst servicesContainer = document.getElementById('servicesContainer') as HTMLElement;\nconst contactForm = document.getElementById('contactForm') as HTMLFormElement;\nconst yearElement = document.getElementById('currentYear') as HTMLElement;\nconst ageModal = document.getElementById('ageVerificationModal') as HTMLElement;\nconst ageConfirmBtn = document.getElementById('ageConfirmBtn') as HTMLElement;\nconst ageDenyBtn = document.getElementById('ageDenyBtn') as HTMLElement;\n\n// 初始化函數\nasync function init(): Promise<void> {\n  // 不再需要初始化圖片加載\n  // initializeImages();\n  \n  // 直接設置 logo 圖片\n  const navLogoElement = document.querySelector('.logo-img') as HTMLImageElement;\n  const footerLogoElement = document.querySelector('.footer-logo .logo-img') as HTMLImageElement;\n  \n  if (navLogoElement) {\n    navLogoElement.style.height = '50px';\n    navLogoElement.style.width = 'auto';\n  }\n  \n  if (footerLogoElement) {\n    footerLogoElement.style.height = '50px';\n    footerLogoElement.style.width = 'auto';\n  }\n  \n  // 預加載關鍵圖片\n  preloadCriticalImages([\n    'assets/images/logo/logo-white.png',\n    'assets/images/hero-bg.jpg',\n    'assets/images/about.jpg'\n  ]);\n  \n  // 初始化第三方服務\n  initGoogleAnalytics();\n  try {\n    await initFirebase();\n    await initAuth();\n  } catch (error) {\n    console.error('初始化服務失敗:', error);\n    alert('初始化失敗：無法連接到服務，請稍後再試');\n  }\n  \n  // 設置事件監聽器\n  setupScrollEvents();\n  setupMobileMenu();\n  setupGalleryItemEvents();\n  setupContactForm();\n  setupAgeVerification();\n  setupCounterAnimation();\n  setupTestimonials();\n  setupBackToTop();\n  \n  // 更新頁腳年份\n  updateCopyrightYear();\n  \n  // 渲染動態內容\n  renderGalleryItems(mockGalleryItems);\n  renderServiceItems(mockServices);\n  \n  // 設置滾動深度追蹤\n  setupScrollDepthTracking();\n}\n\n// 設置滾動事件\nfunction setupScrollEvents(): void {\n  window.addEventListener('scroll', () => {\n    // 導航欄滾動效果\n    if (window.scrollY > 50) {\n      navbar.classList.add('scrolled');\n    } else {\n      navbar.classList.remove('scrolled');\n    }\n\n    // 滾動到視圖中的元素動畫\n    const animatedElements = document.querySelectorAll('.animate-on-scroll');\n    animatedElements.forEach(element => {\n      const elementTop = element.getBoundingClientRect().top;\n      const elementVisible = 150;\n      \n      if (elementTop < window.innerHeight - elementVisible) {\n        element.classList.add('active');\n      }\n    });\n  });\n}\n\n// 設置移動端菜單\nfunction setupMobileMenu(): void {\n  mobileMenuBtn.addEventListener('click', () => {\n    navLinks.classList.toggle('active');\n    trackEvent('navigation', 'toggle_mobile_menu');\n  });\n\n  // 點擊導航鏈接後關閉菜單\n  const navItems = document.querySelectorAll('.nav-link');\n  navItems.forEach(item => {\n    item.addEventListener('click', (e) => {\n      navLinks.classList.remove('active');\n      const target = e.currentTarget as HTMLAnchorElement;\n      trackEvent('navigation', 'click', target.textContent || '');\n    });\n  });\n}\n\n// 渲染畫廊項目\nfunction renderGalleryItems(items: GalleryItem[]): void {\n  if (!galleryContainer) return;\n  \n  galleryContainer.innerHTML = items.map(item => {\n    // 使用圖片優化服務\n    const optimizedImageUrl = optimizeImage(item.imageUrl, {\n      width: 400,\n      height: 300,\n      crop: 'fill',\n      quality: 'auto'\n    });\n    \n    return `\n      <div class=\"gallery-item\" data-category=\"${item.category || ''}\" data-id=\"${item.id}\">\n        <img src=\"${optimizedImageUrl}\" alt=\"${item.title}\" loading=\"lazy\">\n        <div class=\"gallery-overlay\">\n          <h3>${item.title}</h3>\n          <p>${item.description}</p>\n          <button class=\"view-btn\" data-id=\"${item.id}\">查看詳情</button>\n        </div>\n      </div>\n    `;\n  }).join('');\n\n  // 設置畫廊項目點擊事件\n  setupGalleryItemEvents();\n}\n\n// 設置畫廊項目事件\nfunction setupGalleryItemEvents(): void {\n  const galleryItems = document.querySelectorAll('.gallery-item');\n  \n  galleryItems.forEach(item => {\n    item.addEventListener('click', () => {\n      // 這裡可以實現點擊後顯示大圖的功能\n      const imgSrc = item.querySelector('img')?.getAttribute('src');\n      const title = item.querySelector('.gallery-title')?.textContent;\n      const itemId = item.getAttribute('data-id');\n      \n      if (imgSrc) {\n        // 使用原始高質量圖片\n        const highQualityImg = optimizeImage(imgSrc, {\n          width: 1200,\n          quality: 90\n        });\n        \n        showLightbox(highQualityImg, title || '');\n        // 追蹤畫廊項目點擊\n        trackGalleryItemClick(title || `項目 ${itemId}`);\n      }\n    });\n  });\n}\n\n// 顯示燈箱\nfunction showLightbox(imgSrc: string, title: string): void {\n  // 創建燈箱元素\n  const lightbox = document.createElement('div');\n  lightbox.className = 'lightbox';\n  \n  lightbox.innerHTML = `\n    <div class=\"lightbox-content\">\n      <button class=\"lightbox-close\">&times;</button>\n      <img src=\"${imgSrc}\" alt=\"${title}\">\n      <div class=\"lightbox-caption\">${title}</div>\n    </div>\n  `;\n  \n  // 添加到 body\n  document.body.appendChild(lightbox);\n  document.body.style.overflow = 'hidden';\n  \n  // 關閉燈箱\n  const closeBtn = lightbox.querySelector('.lightbox-close');\n  closeBtn?.addEventListener('click', () => {\n    document.body.removeChild(lightbox);\n    document.body.style.overflow = '';\n    trackEvent('lightbox', 'close', title);\n  });\n  \n  // 點擊背景關閉\n  lightbox.addEventListener('click', (e) => {\n    if (e.target === lightbox) {\n      document.body.removeChild(lightbox);\n      document.body.style.overflow = '';\n      trackEvent('lightbox', 'background_close', title);\n    }\n  });\n  \n  // 追蹤燈箱打開\n  trackEvent('lightbox', 'open', title);\n}\n\n// 渲染服務項目\nfunction renderServiceItems(items: ServiceItem[]): void {\n  if (!servicesContainer) return;\n  \n  servicesContainer.innerHTML = items.map(item => `\n    <div class=\"service-card\" data-id=\"${item.id}\">\n      <div class=\"service-icon\">\n        <i class=\"fas fa-${item.icon}\"></i>\n      </div>\n      <h3 class=\"service-title\">${item.title}</h3>\n      <p class=\"service-description\">${item.description}</p>\n    </div>\n  `).join('');\n  \n  // 添加服務項目點擊事件\n  const serviceCards = document.querySelectorAll('.service-card');\n  serviceCards.forEach(card => {\n    card.addEventListener('click', () => {\n      const title = card.querySelector('.service-title')?.textContent;\n      trackEvent('service', 'click', title || '');\n    });\n  });\n}\n\n// 設置聯絡表單\nfunction setupContactForm(): void {\n  if (!contactForm) return;\n  \n  contactForm.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    \n    const nameInput = contactForm.querySelector('#name') as HTMLInputElement;\n    const emailInput = contactForm.querySelector('#email') as HTMLInputElement;\n    const phoneInput = contactForm.querySelector('#phone') as HTMLInputElement;\n    const messageInput = contactForm.querySelector('#message') as HTMLTextAreaElement;\n    \n    // 簡單驗證\n    if (!nameInput.value || !emailInput.value || !messageInput.value) {\n      alert('請填寫所有必填欄位');\n      return;\n    }\n    \n    // 收集表單數據\n    const formData = {\n      name: nameInput.value,\n      email: emailInput.value,\n      phone: phoneInput.value,\n      message: messageInput.value,\n      submittedAt: new Date().toISOString()\n    };\n    \n    try {\n      // 保存到 Firebase\n      await saveContactForm(formData);\n      \n      // 清空表單\n      contactForm.reset();\n      \n      // 顯示成功消息\n      alert('訊息已成功送出，我們將盡快與您聯繫！');\n      \n      // 追蹤表單提交\n      trackFormSubmission('contact_form');\n    } catch (error) {\n      console.error('提交表單時出錯:', error);\n      alert('提交表單時出錯，請稍後再試');\n    }\n  });\n}\n\n// 設置年齡驗證\nfunction setupAgeVerification(): void {\n  if (!ageModal || !ageConfirmBtn || !ageDenyBtn) return;\n  \n  // 檢查 localStorage\n  if (!localStorage.getItem('ageVerified')) {\n    ageModal.style.display = 'flex';\n  }\n  \n  ageConfirmBtn.addEventListener('click', () => {\n    localStorage.setItem('ageVerified', 'true');\n    ageModal.style.display = 'none';\n    trackEvent('age_verification', 'confirm');\n  });\n  \n  ageDenyBtn.addEventListener('click', () => {\n    trackEvent('age_verification', 'deny');\n    window.location.href = 'https://www.google.com';\n  });\n}\n\n// 設置計數器動畫\nfunction setupCounterAnimation(): void {\n  const counters = document.querySelectorAll('.counter-number');\n  \n  // 觀察計數器元素\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const counter = entry.target;\n        const target = parseInt(counter.getAttribute('data-target') || '0', 10);\n        let count = 0;\n        const duration = 2000; // 動畫持續時間（毫秒）\n        const interval = Math.ceil(duration / target);\n        \n        const timer = setInterval(() => {\n          count += 1;\n          counter.textContent = count.toString();\n          \n          if (count >= target) {\n            clearInterval(timer);\n            counter.textContent = target.toString();\n          }\n        }, interval);\n        \n        observer.unobserve(counter);\n      }\n    });\n  }, { threshold: 0.5 });\n  \n  // 觀察所有計數器\n  counters.forEach(counter => {\n    observer.observe(counter);\n  });\n}\n\n// 設置顧客評價\nfunction setupTestimonials(): void {\n  const testimonialItems = document.querySelectorAll('.testimonial-item');\n  \n  testimonialItems.forEach(item => {\n    // 初始狀態：只顯示頭像和名稱\n    const content = item.querySelector('.testimonial-content') as HTMLElement;\n    const text = item.querySelector('.testimonial-text') as HTMLElement;\n    \n    if (content && text) {\n      // 設置初始高度\n      const originalHeight = content.offsetHeight;\n      const collapsedHeight = originalHeight - text.offsetHeight;\n      \n      content.style.height = `${collapsedHeight}px`;\n      content.style.overflow = 'hidden';\n      content.style.transition = 'height 0.3s ease';\n      \n      // 滑鼠懸停或點擊時展開\n      const expandContent = () => {\n        content.style.height = `${originalHeight}px`;\n      };\n      \n      const collapseContent = () => {\n        content.style.height = `${collapsedHeight}px`;\n      };\n      \n      // 添加事件監聽器\n      item.addEventListener('mouseenter', expandContent);\n      item.addEventListener('mouseleave', collapseContent);\n      item.addEventListener('click', () => {\n        if (content.style.height === `${originalHeight}px`) {\n          collapseContent();\n        } else {\n          expandContent();\n        }\n      });\n    }\n  });\n}\n\n// 更新版權年份\nfunction updateCopyrightYear(): void {\n  if (yearElement) {\n    yearElement.textContent = new Date().getFullYear().toString();\n  }\n}\n\n// 設置返回頂部按鈕\nfunction setupBackToTop(): void {\n  if (!backToTopBtn) return;\n  \n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      backToTopBtn.classList.add('active');\n    } else {\n      backToTopBtn.classList.remove('active');\n    }\n  });\n  \n  backToTopBtn.addEventListener('click', () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n    \n    // 追蹤事件\n    trackEvent('navigation', 'back_to_top');\n  });\n}\n\n// 頁面加載完成後初始化\ndocument.addEventListener('DOMContentLoaded', init);\n\n// 導出函數供其他模塊使用\nexport { loadImage, initializeImages };\n\n// 導出模塊\nexport default {\n  init,\n  renderGalleryItems,\n  renderServiceItems,\n}; "],"names":["inProgress","dataWebpackPrefix","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","d","definition","key","o","Object","defineProperty","enumerable","get","f","e","chunkId","Promise","all","keys","reduce","promises","u","miniCssF","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","call","l","url","done","push","script","needAttach","scripts","document","getElementsByTagName","i","length","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","fn","setTimeout","bind","type","target","head","appendChild","p","installedChunks","j","installedChunkData","promise","resolve","reject","error","Error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","some","id","chunkLoadingGlobal","self","mockServices","title","description","icon","mockGalleryItems","imageUrl","category","GA_MEASUREMENT_ID","trackEvent","eventCategory","eventAction","eventLabel","eventValue","gtag","event_category","event_label","value","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","loginBtn","getElementById","loginModal","loginForm","registerForm","tabBtns","querySelectorAll","loginTab","registerTab","modalClose","querySelector","memberSection","memberName","bookingsList","bookingCount","pointsCount","logoutBtn","async","checkAuthState","user","getAuth","auth","unsubscribe","onAuthStateChanged","getCurrentUser","style","display","textContent","displayName","email","split","userId","bookings","getFirestore","collection","query","where","getDocs","q","querySnapshot","doc","console","getUserBookings","innerHTML","toString","map","booking","serviceType","guestCount","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","status","toLowerCase","getStatusText","join","loadUserBookings","uid","optimizeImage","originalUrl","options","includes","startsWith","assetPath","replace","transformations","width","height","crop","format","quality","dpr","transformationString","urlParts","isLocalhost","location","hostname","log","addEventListener","images","img","index","cloudinaryUrl","localFallback","element","imgElement","localFallbackPath","optimizedUrl","alt","border","padding","loadImage","backToTopBtn","navbar","mobileMenuBtn","navLinks","galleryContainer","servicesContainer","contactForm","yearElement","ageModal","ageConfirmBtn","ageDenyBtn","setupGalleryItemEvents","item","imgSrc","itemId","lightbox","className","body","overflow","closeBtn","showLightbox","navLogoElement","footerLogoElement","link","rel","as","href","args","dataLayer","initGoogleAnalytics","initializeApp","getAnalytics","app","initFirebase","btn","tab","b","classList","remove","add","preventDefault","emailInput","passwordInput","password","signInWithEmailAndPassword","loginUser","alert","confirmPasswordInput","createUserWithEmailAndPassword","registerUser","signOut","logoutUser","initAuth","items","scrollY","getBoundingClientRect","top","innerHeight","toggle","currentTarget","nameInput","phoneInput","messageInput","formData","phone","submittedAt","toISOString","addDoc","db","createdAt","saveContactForm","reset","localStorage","getItem","setItem","counters","observer","IntersectionObserver","entries","entry","isIntersecting","counter","parseInt","count","duration","interval","Math","ceil","timer","setInterval","clearInterval","unobserve","threshold","observe","setupCounterAnimation","content","text","originalHeight","offsetHeight","collapsedHeight","transition","expandContent","collapseContent","scrollTo","behavior","getFullYear","optimizedImageUrl","card","renderServiceItems","scrollDepthMarkers","scrollDepthTracked","scrollPercentage","floor","documentElement","scrollHeight","marker","setupScrollDepthTracking"],"sourceRoot":""}